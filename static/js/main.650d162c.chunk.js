(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,n){e.exports=n(48)},40:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),o=n.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(38),n(40);var i=n(5),l=n(6),u=n(8),s=n(7),m=n(9),d=n(50),p=n(51),f=n(52),h=n(49),b=n(11),y=n(12);function v(){var e=Object(b.a)(["\n  display: block;\n  width: 300px;\n  height: 200px;\n"]);return v=function(){return e},e}function g(){var e=Object(b.a)(["\n  height: 100vh;\n  background: #5D2477\n  background: -webkit-radial-gradient(bottom right, #5D2477, #10054C)\n  background: -moz-radial-gradient(bottom right, #5D2477, #10054C)\n  background: radial-gradient(bottom right, #5D2477, #10054C)\n"]);return g=function(){return e},e}function E(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n"]);return E=function(){return e},e}function j(){var e=Object(b.a)(["\n  font-size: 1.5em;\n  text-align: center;\n  color: #fff;\n"]);return j=function(){return e},e}function O(){var e=Object(b.a)(["\n  list-style-type: none;\n"]);return O=function(){return e},e}function w(){var e=Object(b.a)(["\n  font-size: 1.5em;\n  text-align: center;\n  color: palevioletred;\n"]);return w=function(){return e},e}y.a.h2(w());var k=y.a.ul(O()),S=y.a.li(j()),C=y.a.div(E()),_=y.a.div(g()),x=y.a.form(v()),D=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={login:!1},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"checkUser",value:function(e){e.preventDefault();var t=document.getElementById("form__user"),n=document.getElementById("form__password");"user"==t.value&&"12345"==n.value&&this.setState({login:!0})}},{key:"render",value:function(){return this.state.login?r.a.createElement(h.a,{to:"/weather"}):r.a.createElement(_,null,r.a.createElement(C,null,r.a.createElement("h1",null,"Welcome to Weather Data!"),r.a.createElement(x,{action:"",onSubmit:this.checkUser.bind(this),id:"form"},r.a.createElement("div",{className:"flex-center-center"},r.a.createElement("input",{type:"text",id:"form__user",className:"input",placeholder:"username",autoFocus:!0,required:!0})),r.a.createElement("div",{className:"flex-center-center"},r.a.createElement("input",{type:"password",id:"form__password",className:"input",placeholder:"password",required:!0})),r.a.createElement("div",{className:"flex-center-center"},r.a.createElement("button",{className:"button",type:"submit"},"login")))))}}]),t}(a.Component),A=n(13),N=function(e,t){return{type:"ADD_CITY",id:e,city:t,temprature:""}},I=function(e,t){return{type:"SET_WEATHER",id:e,value:Math.round(10*t)/10+" \xb0C"}},W=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={id:Date.now().toString()},n.setWeather=function(e,t){var a="&type=like&APPID=".concat("8c6b34946a9936a4f503e2797bfc6840");fetch("".concat("https://api.openweathermap.org/data/2.5/find?q=").concat(t).concat(a)).then(function(e){return e.json()}).then(function(t){return n.props.onSetWeather(e,t.list[0].main.temp-273.15)}).catch(function(e){return console.log(e)})},n.addCity=function(){var e=document.getElementById("addCity__input");/^[a-zA-Z]+$/.test(e.value)?(n.props.onAddCity(n.state.id,e.value),n.setWeather(n.state.id,e.value),e.value="",n.setState({id:Date.now().toString()})):e.value="Please write only english letters"},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=document.getElementById("addCity__input");e.addEventListener("click",function(t){e.value="",t.preventDefault()})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Add new city"),r.a.createElement("div",{className:"flex-center-center "},r.a.createElement("input",{type:"text",id:"addCity__input",className:"input",autoFocus:!0}),r.a.createElement("button",{className:"button",onClick:this.addCity},"Add new city")))}}]),t}(a.Component);var B=Object(A.b)(null,function(e){return{onAddCity:function(t,n){e(N(t,n))},onSetWeather:function(t,n){e(I(t,n))}}})(W),F=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Your weather data:"),r.a.createElement(k,null,this.props.localState.length?this.props.localState.map(function(e,t){return r.a.createElement(S,{key:t},e.temprature?e.city+" "+e.temprature:"Sorry, cannot find weather for "+e.city)}):r.a.createElement("p",{className:"description"},"Add your first city!",r.a.createElement("br",null),'For example: "London", "Rome", "Moscow"')))}}]),t}(a.Component);var T=Object(A.b)(function(e){return{localState:e}})(F),z=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null,r.a.createElement(B,null),r.a.createElement(T,null)))}}]),t}(a.Component),J=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(p.a,null,r.a.createElement(f.a,{exact:!0,path:"/",component:D}),r.a.createElement(f.a,{exact:!0,path:"/weather",component:z})))}}]),t}(a.Component),q=n(17),M=n(30),P=n(29),R=[];localStorage.getItem("city")&&(R=JSON.parse(localStorage.getItem("city")));var Y=Object(q.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;return"ADD_CITY"===t.type?Object(P.a)(e).concat([{id:t.id,city:t.city,temprature:t.temprature}]):"SET_WEATHER"===t.type?e.map(function(e){return e.id==t.id?Object(M.a)({},e,{temprature:t.value}):e}):e});Y.subscribe(function(){console.log(Y.getState()),localStorage.setItem("city",JSON.stringify(Y.getState()))}),o.a.render(r.a.createElement(A.a,{store:Y},r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,2,1]]]);
//# sourceMappingURL=main.650d162c.chunk.js.map